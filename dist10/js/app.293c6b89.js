(function(){var e={9381:function(e,t,a){"use strict";var l=a(9242),n=a(3396);function o(e,t){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(a)}var i=a(89);const u={},r=(0,i.Z)(u,[["render",o]]);var c=r,s=a(5431);(0,s.z)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var d=a(2483);var g=a(7139);const h={class:"data_info"};function p(e,t,a,o,i,u){const r=(0,n.up)("el-text"),c=(0,n.up)("el-menu-item"),s=(0,n.up)("el-menu-item-group"),d=(0,n.up)("el-sub-menu"),p=(0,n.up)("el-menu"),v=(0,n.up)("el-scrollbar"),_=(0,n.up)("el-aside"),f=(0,n.up)("el-header"),w=(0,n.up)("el-table-column"),m=(0,n.up)("el-button"),y=(0,n.up)("el-table"),b=(0,n.up)("el-col"),x=(0,n.up)("el-row"),k=(0,n.up)("el-main"),W=(0,n.up)("el-container"),H=(0,n.Q2)("loading");return(0,n.wg)(),(0,n.j4)(W,{class:"layout-container-demo",height:o.inner_height},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{width:"200px",height:o.table_height,"max-height":o.table_height},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n._)("div",{onClick:t[0]||(t[0]=(...e)=>o.return_index&&o.return_index(...e)),style:{cursor:"pointer",height:"60px","line-height":"60px","font-size":"large"}},"数据管理"),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{index:"1"},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"",size:"large"},{default:(0,n.w5)((()=>[(0,n.Uk)("慢性病")])),_:1})])),default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.category_disease_info,((e,t)=>((0,n.wg)(),(0,n.j4)(c,{ellipsis:"true",onClick:t=>o.get_category_info(e.key,e.category_name),key:t,index:"1-"+t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,g.zw)(e.name),1)])),_:2},1032,["onClick","index"])))),128))])),_:1})])),_:1}),(0,n.Wm)(d,{index:"2"},{title:(0,n.w5)((()=>[(0,n.Wm)(r,{class:"",size:"large"},{default:(0,n.w5)((()=>[(0,n.Uk)("政策")])),_:1})])),default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.category_policy_info,((e,t)=>((0,n.wg)(),(0,n.j4)(c,{ellipsis:"true",onClick:t=>o.get_category_info(e.key,e.category_name),key:t,index:"2-"+t},{default:(0,n.w5)((()=>[(0,n.Uk)((0,g.zw)(e.name),1)])),_:2},1032,["onClick","index"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["height","max-height"]),(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"text-align":"right",height:"{{container_head}}px","font-size":"16px"}},{default:(0,n.w5)((()=>[(0,n._)("span",h,[(0,n.Uk)(" 共采集 "),(0,n._)("span",null,(0,g.zw)(o.resource_length)+"个数据源 ",1),(0,n.Uk)(" , "),(0,n._)("span",null," 总计"+(0,g.zw)(o.all_length)+"条数据 ",1)])])),_:1}),(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[o.index_show?((0,n.wg)(),(0,n.j4)(v,{key:0},{default:(0,n.w5)((()=>[(0,n.wy)(((0,n.wg)(),(0,n.j4)(y,{"text-align":"left",border:"",data:o.category_info_array,height:o.index_height,"max-height":o.index_height,fit:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{prop:"name",label:"表名",width:"250"}),(0,n.Wm)(w,{prop:"chName",label:"中文名称"}),(0,n.Wm)(w,{prop:"desc",label:"描述"}),(0,n.Wm)(w,{prop:"length",label:"数据量(测试)"}),(0,n.Wm)(w,{fixed:"right",label:"Operations"},{default:(0,n.w5)((e=>[(0,n.Wm)(m,{type:"danger",size:"small",onClick:t[1]||(t[1]=()=>{})},{default:(0,n.w5)((()=>[(0,n.Uk)(" Remove ")])),_:1})])),_:1})])),_:1},8,["data","height","max-height"])),[[H,o.index_loading]])])),_:1})):((0,n.wg)(),(0,n.j4)(v,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"row-bg",style:{height:"{{switch_paga_button_height}}px"},justify:"space-around"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{span:4},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(m,{size:"small",text:"plain",height:o.add_button_height,disabled:!o.popClick,onClick:o.pop50},{default:(0,n.w5)((()=>[(0,n.Uk)("上一页")])),_:1},8,["height","disabled","onClick"]),[[l.F8,!o.index_show]])])),_:1}),(0,n.Wm)(b,{span:6,style:{"font-size":"12px"}},{default:(0,n.w5)((()=>[(0,n.Uk)("第 "+(0,g.zw)(o.page)+" 页",1)])),_:1}),(0,n.Wm)(b,{span:4},{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(m,{size:"small",text:"plain",height:o.add_button_height,disabled:!o.addClick,onClick:o.add50},{default:(0,n.w5)((()=>[(0,n.Uk)((0,g.zw)(o.category_data.length)+"下一页",1)])),_:1},8,["height","disabled","onClick"]),[[l.F8,!o.index_show]])])),_:1})])),_:1}),(0,n.wy)(((0,n.wg)(),(0,n.j4)(y,{border:"",data:o.category_data,height:o.table_height,"max-height":o.table_height,fit:""},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{fixed:"",type:"index",label:"序号",width:"70"}),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.category_data_keys,(e=>((0,n.wg)(),(0,n.j4)(w,{"show-overflow-tooltip":"",prop:e.prop,label:e.prop},null,8,["prop","label"])))),256)),(0,n.Wm)(w,{fixed:"right",label:"Operations",align:"center",width:"150"},{default:(0,n.w5)((e=>[(0,n.Wm)(m,{type:"danger",onClick:t=>o.delete_data(e.$index)},{default:(0,n.w5)((()=>[(0,n.Uk)(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height","max-height"])),[[H,o.loading]])])),_:1}))])),_:1})])),_:1})])),_:1},8,["height"])}a(7658),a(4806);var v=a(5410),_=a.n(v),f=a(4870),w=a(4161),m=a(7178),y={setup(){const e=(0,f.iH)(""),t=(0,f.iH)([]),a=(0,f.iH)(""),l=(0,f.iH)([]),o=(0,f.iH)([]),i=(0,f.iH)([]),u=(0,f.iH)([]),r=(0,f.iH)([]),c=(0,f.iH)(0),s=(0,f.iH)(0),d="http://39.96.138.111:7777/",g=(0,f.iH)(0),h=(0,f.iH)(49),p=(0,f.iH)(1),v=(0,f.iH)(!0),y=(0,f.iH)([]),b=(0,f.iH)(!1),x=(0,f.iH)(!1),k=(0,f.iH)(window.innerHeight),W=(0,n.Fl)((()=>k.value-16)),H=(0,f.iH)(60),C=(0,f.iH)(30),j=(0,n.Fl)((()=>k.value-16-H.value)),z=(0,n.Fl)((()=>k.value-H.value-16-C.value)),O=(0,f.iH)(50),F=(0,n.Fl)((()=>g.value-49>=0)),U=(0,n.Fl)((()=>h.value>=49&&50==i.value.length));function S(t,l){const n={key:t,category_name:l,start:0,end:49};b.value=!0,v.value=!1,w.Z.post(d+"get_cate_data",_().stringify(n),{}).then((n=>{p.value=1,a.value=l,i.value.splice(0,i.value.length),y.value.splice(0,y.value.length),g.value=0,h.value=49,console.log(n.data);for(let e of n.data.data){let t=JSON.parse(e);"policy"==l&&t.policy_content.length>100&&(t.policy_content=t.policy_content.substring(0,100)),i.value.push(t),u.value.push(e)}const o=i.value[0];console.log(o);const r=Object.keys(o);for(let e of r){const t={};t.prop=e,t.label="ziduan",y.value.push(t)}b.value=!1,e.value=t}))}setInterval((()=>{w.Z.post(d+"get_length_info",_().stringify({}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{s.value=e.data.all_length,c.value=e.data.resource_length})).catch((e=>{console.log(e)}))}),3e5);const Z=()=>{const t={key:e.value,category_name:a.value,start:h.value,end:h.value+49};console.log("增加前",g.value,h.value),T(t),g.value=h.value,h.value=h.value+49,console.log("add",g.value,h.value),p.value++},N=()=>{console.log(a.value);const t={key:e.value,category_name:a.value,start:g.value-49,end:g.value};console.log("删除前",g.value,h.value),T(t),h.value=g.value,g.value=g.value-49,p.value--,console.log("pop",g.value,h.value)},T=e=>{b.value=!0,w.Z.post(d+"get_cate_data",_().stringify(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{console.log(e.data),i.value.splice(0,i.value.length),u.value.splice(0,u.value.length);for(let t of e.data.data){let e=JSON.parse(t);"policy"==a.value&&e.policy_content.length>100&&(e.policy_content=e.policy_content.substring(0,100)),console.log(e.policy_content),i.value.push(e),u.value.push(t)}b.value=!1})).catch((e=>{console.log(e)}))},A=t=>{const l=(0,n.Fl)((()=>u.value[t]));E(a.value,t,e.value,1,l.value)},E=(e,t,a,l,n)=>{b.value=!0,console.log(n);const o={category_name:e,key:a,count:l,del_value:n};w.Z.post(d+"del",_().stringify(o),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{let a=e.data.state,l=e.data.message;200==a?(m.z8.success({showClose:!0,message:l,center:!0,grouping:!0}),i.value.splice(t,1),u.value.splice(t,1)):m.z8.error({showClose:!0,message:l,center:!0,grouping:!0}),b.value=!1})).catch((e=>{m.z8.error({showClose:!0,message:"执行删除操作失败",center:!0,grouping:!0}),b.value=!1}))},P=()=>{v.value=!0},D=()=>{for(let e of t.value){const t={};t.name=e.key,t.chName=e.name,t.desc=e.desc,t.length=e.length,r.value.push(t)}console.log(r.value)};(0,n.bv)((()=>{x.value=!0,w.Z.get(d+"init_info").then((e=>{console.log(e.data),t.value=e.data.resource;for(let t of e.data.resource)"disease"==t.category_name?l.value.push(t):o.value.push(t);c.value=e.data.resource_length,s.value=e.data.all_length,console.log(c,s),D(),x.value=!1})).catch((e=>{console.log(e)}))}));const K=()=>{k.value=window.innerHeight,console.log(k.value,z.value,W)};return(0,n.bv)((()=>{window.addEventListener("resize",K)})),(0,n.Ah)((()=>{window.removeEventListener("resize",K)})),{category_info:t,category_data:i.value,category_name:a.value,category_data_keys:y.value,category_disease_info:l.value,category_policy_info:o.value,category_info_array:r.value,table_max_height:"500px",table_height:z,index_show:v,loading:b,page:p,resource_length:c,all_length:s,add_button_height:O.value,index_loading:x,container_height:k.value,table_height:z.value,add50:Z,switch_paga_button_height:C.value,popClick:F,addClick:U,container_head:H,index_height:j,inner_height:W.value,pop50:N,delete_data:A,return_index:P,get_category_info:S}}};const b=(0,i.Z)(y,[["render",p],["__scopeId","data-v-9cb7bce4"]]);var x=b;const k=[{path:"/",name:"index",component:x}],W=(0,d.p7)({history:(0,d.r5)(),routes:k});var H=W,C=a(2065),j=(a(4415),a(2748));const z=(0,l.ri)(c);for(const[O,F]of Object.entries(j))z.component(O,F);z.use(H),z.use(C.Z),z.mount("#app")},4654:function(){}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var i=1/0;for(s=0;s<e.length;s++){l=e[s][0],n=e[s][1],o=e[s][2];for(var u=!0,r=0;r<l.length;r++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(u=!1,o<i&&(i=o));if(u){e.splice(s--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,i=l[0],u=l[1],r=l[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in u)a.o(u,n)&&(a.m[n]=u[n]);if(r)var s=r(a)}for(t&&t(l);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(s)},l=self["webpackChunkdata_manage"]=self["webpackChunkdata_manage"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(9381)}));l=a.O(l)})();
//# sourceMappingURL=app.293c6b89.js.map